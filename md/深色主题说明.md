# 深色主题说明

## 🎨 主题概述

应用已成功切换为深色主题，提供更舒适的视觉体验，减少眼睛疲劳。

## 📊 配色方案

### 背景色
- **主背景**：`#2b2b2b` - 深灰色，主要背景
- **次背景**：`#3c3c3c` - 中灰色，表格、菜单栏
- **输入框**：`#404040` - 浅灰色，输入区域

### 文字色
- **主文字**：`#e0e0e0` - 浅灰白色，主要文字
- **次文字**：`#b0b0b0` - 灰白色，次要文字
- **禁用**：`#707070` - 暗灰色，禁用状态

### 强调色
- **选中/强调**：`#0d7377` - 青绿色，选中状态、悬停高亮
- **悬停**：`#4a4a4a` - 浅灰色，鼠标悬停
- **边框**：`#555555` - 灰色，边框线条

### 状态色（保持原有）
- **在线**：`#4caf50` - 绿色
- **离线**：`#f44336` - 红色
- **警告**：`#ff9800` - 橙色

## 📝 修改内容

### 1. StyleManager（utils/style_manager.py）
- ✅ 添加颜色常量定义
- ✅ 更新菜单按钮样式
- ✅ 更新设置按钮样式
- ✅ 更新菜单栏样式
- ✅ 更新表格样式（包括表头）
- ✅ 更新分隔器样式
- ✅ 更新版本标签样式

### 2. 主窗口（main.py）
- ✅ 添加全局深色主题样式
- ✅ 更新菜单栏使用 StyleManager
- ✅ 更新版本标签使用 StyleManager
- ✅ 添加输入框、按钮、复选框等控件样式
- ✅ 添加滚动条样式
- ✅ 添加对话框样式
- ✅ **添加深色标题栏支持（Windows 10/11）**

### 3. 自动继承
以下组件自动继承全局样式，无需修改：
- ✅ 设备状态查询页面
- ✅ 账号设备查询页面
- ✅ 设置对话框
- ✅ 所有自定义控件

## 🎯 主题特点

### 1. 统一性
- 所有控件使用统一的配色方案
- 保持视觉一致性
- **标题栏与应用主题一致（Windows 10/11）**

### 2. 可读性
- 高对比度文字，清晰易读
- 合理的颜色搭配

### 3. 交互性
- 明确的悬停效果
- 清晰的选中状态
- 友好的禁用状态

### 4. 舒适性
- 深色背景减少眼睛疲劳
- 柔和的配色不刺眼
- 适合长时间使用
- **完整的深色体验，包括标题栏**

## 🔧 自定义调整

如需调整颜色，只需修改 `utils/style_manager.py` 中的颜色常量：

```python
# 颜色定义
COLOR_BG_DARK = "#2b2b2b"      # 深灰背景
COLOR_BG_MID = "#3c3c3c"       # 中灰背景
COLOR_BG_LIGHT = "#404040"     # 浅灰背景
COLOR_TEXT_PRIMARY = "#e0e0e0" # 主文字色
COLOR_TEXT_SECONDARY = "#b0b0b0" # 次文字色
COLOR_ACCENT = "#0d7377"       # 强调色（青绿）
COLOR_HOVER = "#4a4a4a"        # 悬停色
COLOR_BORDER = "#555555"       # 边框色
```

修改这些常量后，在样式定义中使用即可全局生效。

## 📸 效果预览

### 主要改进
1. **标题栏**：深色标题栏，与应用主题完美融合（Windows 10/11）
2. **菜单栏**：深灰背景，青绿色选中效果
3. **输入框**：深色背景，清晰边框
4. **表格**：深色背景，青绿色选中边框
5. **按钮**：深色背景，悬停高亮
6. **滚动条**：深色样式，青绿色悬停

### 保持不变
- 功能逻辑完全不变
- 布局结构完全不变
- 所有交互行为不变

## ⚠️ 注意事项

1. **图标适配**：当前图标为浅色设计，在深色背景下可能需要调整
2. **对比度**：如果觉得对比度不够，可以调整文字颜色
3. **个人偏好**：可以根据个人喜好微调颜色
4. **标题栏**：深色标题栏需要 Windows 10 版本 1809 或更高版本
   - Windows 11：完美支持
   - Windows 10 1903+：完美支持
   - Windows 10 1809：支持但可能需要手动启用深色模式
   - Windows 10 更早版本：标题栏保持系统默认样式

## 🎉 总结

深色主题已成功应用到整个应用程序，提供了：
- ✅ 统一的视觉风格
- ✅ 舒适的使用体验
- ✅ 清晰的交互反馈
- ✅ 易于维护的代码结构

---

*更新时间：2025-01-21*
*主题版本：v1.0 - 深色主题*
