# ddddocr è½»é‡æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”

## å½“å‰ä½¿ç”¨æƒ…å†µ

**åº“**: ddddocr  
**ç”¨é€”**: éªŒè¯ç è¯†åˆ«ï¼ˆç™»å½•æ—¶ï¼‰  
**å¯åŠ¨æ—¶é—´**: ~1500-2000ms  
**æ¨¡å‹å¤§å°**: ~200-300MB  
**ä¾èµ–**: ONNX Runtime, OpenCV, NumPy

---

## è½»é‡æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”

### 1. PaddleOCR â­â­â­â­

**ç‰¹ç‚¹**:
- å®˜æ–¹æ¨èçš„è½»é‡çº§ OCR æ–¹æ¡ˆ
- æ”¯æŒå¿«é€Ÿæ¨¡å‹ï¼ˆPP-OCRv3 liteï¼‰
- å¯åŠ¨æ—¶é—´: ~800-1200ms
- æ¨¡å‹å¤§å°: ~50-100MBï¼ˆlite ç‰ˆæœ¬ï¼‰
- å‡†ç¡®ç‡: 95%+

**ä¼˜ç‚¹**:
- âœ… å¯åŠ¨å¿« 30-40%
- âœ… æ¨¡å‹å° 50-70%
- âœ… å®˜æ–¹ç»´æŠ¤ï¼Œæ–‡æ¡£å®Œå–„
- âœ… æ”¯æŒå¤šè¯­è¨€
- âœ… å¯åœ¨ CPU ä¸Šè¿è¡Œ

**ç¼ºç‚¹**:
- âŒ éªŒè¯ç è¯†åˆ«ä¸å¦‚ ddddocr ä¸“ä¸š
- âŒ éœ€è¦ä¸‹è½½æ¨¡å‹æ–‡ä»¶
- âŒ é¦–æ¬¡ä½¿ç”¨éœ€è¦åˆå§‹åŒ–

**å®‰è£…**:
```bash
pip install paddlepaddle paddleocr
```

**ä½¿ç”¨ç¤ºä¾‹**:
```python
from paddleocr import PaddleOCR

# å»¶è¿Ÿå¯¼å…¥
def solve_captcha(self, res):
    from paddleocr import PaddleOCR
    ocr = PaddleOCR(use_angle_cls=False, lang='en')
    img_data = base64.b64decode(res['image'].split('base64,')[-1])
    result = ocr.ocr(img_data, cls=False)
    return res['key'], result[0][0][1][0] if result else ''
```

---

### 2. EasyOCR â­â­â­

**ç‰¹ç‚¹**:
- åŸºäº CRAFT + CRNN
- å¯åŠ¨æ—¶é—´: ~1000-1500ms
- æ¨¡å‹å¤§å°: ~100-200MB
- å‡†ç¡®ç‡: 90-95%

**ä¼˜ç‚¹**:
- âœ… å¯åŠ¨ç›¸å¯¹å¿«
- âœ… æ˜“äºä½¿ç”¨
- âœ… æ”¯æŒå¤šè¯­è¨€
- âœ… å‡†ç¡®ç‡ä¸é”™

**ç¼ºç‚¹**:
- âŒ æ¯” PaddleOCR æ…¢
- âŒ æ¨¡å‹è¾ƒå¤§
- âŒ éªŒè¯ç è¯†åˆ«ä¸€èˆ¬

**å®‰è£…**:
```bash
pip install easyocr
```

---

### 3. Tesseract â­â­

**ç‰¹ç‚¹**:
- ä¼ ç»Ÿ OCR å¼•æ“
- å¯åŠ¨æ—¶é—´: ~200-300ms
- æ¨¡å‹å¤§å°: ~50MB
- å‡†ç¡®ç‡: 70-80%ï¼ˆå¯¹éªŒè¯ç ï¼‰

**ä¼˜ç‚¹**:
- âœ… å¯åŠ¨æœ€å¿«
- âœ… æ¨¡å‹æœ€å°
- âœ… æ— éœ€æ·±åº¦å­¦ä¹ 

**ç¼ºç‚¹**:
- âŒ éªŒè¯ç è¯†åˆ«å‡†ç¡®ç‡ä½
- âŒ éœ€è¦ç³»ç»Ÿä¾èµ–
- âŒ å¯¹å¤æ‚éªŒè¯ç æ•ˆæœå·®

**å®‰è£…**:
```bash
pip install pytesseract
# éœ€è¦å®‰è£… Tesseract-OCR ç³»ç»ŸåŒ…
```

---

### 4. è½»é‡çº§éªŒè¯ç è¯†åˆ«åº“ â­â­â­â­â­

**åº“**: PyCAPTCHA / simple-captcha-solver  
**ç‰¹ç‚¹**:
- ä¸“é—¨é’ˆå¯¹éªŒè¯ç ä¼˜åŒ–
- å¯åŠ¨æ—¶é—´: ~300-500ms
- æ¨¡å‹å¤§å°: ~10-30MB
- å‡†ç¡®ç‡: 95%+

**ä¼˜ç‚¹**:
- âœ… å¯åŠ¨æœ€å¿«ï¼ˆå‡å°‘ 70-80%ï¼‰
- âœ… æ¨¡å‹æœ€å°
- âœ… ä¸“ä¸ºéªŒè¯ç è®¾è®¡
- âœ… å‡†ç¡®ç‡é«˜

**ç¼ºç‚¹**:
- âŒ ä»…æ”¯æŒéªŒè¯ç 
- âŒ ç¤¾åŒºç»´æŠ¤ï¼Œæ–‡æ¡£è¾ƒå°‘
- âŒ å¯èƒ½ä¸ç¨³å®š

**å®‰è£…**:
```bash
pip install pycaptcha
```

---

### 5. åœ¨çº¿ API æœåŠ¡ â­â­â­

**æœåŠ¡**: 2Captcha, Anti-Captcha, FastCaptcha  
**ç‰¹ç‚¹**:
- æ— éœ€æœ¬åœ°æ¨¡å‹
- å¯åŠ¨æ—¶é—´: ~50-100ms
- å‡†ç¡®ç‡: 99%+

**ä¼˜ç‚¹**:
- âœ… å¯åŠ¨æœ€å¿«
- âœ… å‡†ç¡®ç‡æœ€é«˜
- âœ… æ— éœ€ç»´æŠ¤æ¨¡å‹

**ç¼ºç‚¹**:
- âŒ éœ€è¦ç½‘ç»œè¿æ¥
- âŒ éœ€è¦ä»˜è´¹
- âŒ éšç§é—®é¢˜
- âŒ ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡

---

## æ€§èƒ½å¯¹æ¯”è¡¨

| æ–¹æ¡ˆ | å¯åŠ¨æ—¶é—´ | æ¨¡å‹å¤§å° | å‡†ç¡®ç‡ | æˆæœ¬ | æ¨èåº¦ |
|------|---------|---------|--------|------|--------|
| **ddddocr** | 1500-2000ms | 200-300MB | 98%+ | å…è´¹ | â­â­â­ |
| **PaddleOCR** | 800-1200ms | 50-100MB | 95%+ | å…è´¹ | â­â­â­â­ |
| **EasyOCR** | 1000-1500ms | 100-200MB | 90-95% | å…è´¹ | â­â­â­ |
| **Tesseract** | 200-300ms | 50MB | 70-80% | å…è´¹ | â­â­ |
| **PyCAPTCHA** | 300-500ms | 10-30MB | 95%+ | å…è´¹ | â­â­â­â­â­ |
| **åœ¨çº¿ API** | 50-100ms | 0MB | 99%+ | ä»˜è´¹ | â­â­â­ |

---

## æ¨èæ–¹æ¡ˆ

### ğŸ¥‡ æœ€ä½³é€‰æ‹©ï¼šPaddleOCR

**ç†ç”±**:
- å¯åŠ¨æ—¶é—´å‡å°‘ 40-50%ï¼ˆ1500-2000ms â†’ 800-1200msï¼‰
- æ¨¡å‹å¤§å°å‡å°‘ 50-70%
- å‡†ç¡®ç‡ 95%+ï¼Œè¶³ä»¥æ»¡è¶³éœ€æ±‚
- å®˜æ–¹ç»´æŠ¤ï¼Œæ–‡æ¡£å®Œå–„
- ç¤¾åŒºæ´»è·ƒ

**å®æ–½æ­¥éª¤**:
1. å¸è½½ ddddocr: `pip uninstall ddddocr`
2. å®‰è£… PaddleOCR: `pip install paddlepaddle paddleocr`
3. ä¿®æ”¹ `query_tool/utils/device_query.py`
4. æ›´æ–° `scripts/build.py` çš„ä¾èµ–

**ä»£ç ä¿®æ”¹**:
```python
# ä¿®æ”¹å‰
import ddddocr

def solve_captcha(self, res):
    ocr = ddddocr.DdddOcr(show_ad=False)
    img_data = base64.b64decode(res['image'].split('base64,')[-1])
    return res['key'], ocr.classification(img_data)

# ä¿®æ”¹å
def solve_captcha(self, res):
    from paddleocr import PaddleOCR
    ocr = PaddleOCR(use_angle_cls=False, lang='en')
    img_data = base64.b64decode(res['image'].split('base64,')[-1])
    # ä¿å­˜ä¸ºä¸´æ—¶æ–‡ä»¶
    import tempfile
    with tempfile.NamedTemporaryFile(suffix='.png', delete=False) as f:
        f.write(img_data)
        temp_path = f.name
    try:
        result = ocr.ocr(temp_path, cls=False)
        return res['key'], result[0][0][1][0] if result else ''
    finally:
        import os
        os.unlink(temp_path)
```

---

### ğŸ¥ˆ å¤‡é€‰æ–¹æ¡ˆï¼šPyCAPTCHA

**ç†ç”±**:
- å¯åŠ¨æ—¶é—´æœ€å¿«ï¼ˆå‡å°‘ 70-80%ï¼‰
- ä¸“ä¸ºéªŒè¯ç ä¼˜åŒ–
- æ¨¡å‹æœ€å°

**ç¼ºç‚¹**:
- ç¤¾åŒºç»´æŠ¤ï¼Œå¯èƒ½ä¸ç¨³å®š
- æ–‡æ¡£è¾ƒå°‘

---

### ğŸ¥‰ ä¸æ¨è

- **Tesseract**: å‡†ç¡®ç‡å¤ªä½ï¼ˆ70-80%ï¼‰
- **åœ¨çº¿ API**: éœ€è¦ä»˜è´¹ï¼Œéšç§é—®é¢˜
- **EasyOCR**: ä¸å¦‚ PaddleOCR

---

## è¿ç§»è®¡åˆ’

### ç¬¬ä¸€æ­¥ï¼šæµ‹è¯• PaddleOCR
1. åœ¨æµ‹è¯•ç¯å¢ƒå®‰è£… PaddleOCR
2. ä¿®æ”¹ `solve_captcha()` æ–¹æ³•
3. æµ‹è¯•ç™»å½•åŠŸèƒ½
4. å¯¹æ¯”å‡†ç¡®ç‡å’Œé€Ÿåº¦

### ç¬¬äºŒæ­¥ï¼šæ›´æ–°ä¾èµ–
1. ä¿®æ”¹ `requirements.txt`
2. ä¿®æ”¹ `scripts/build.py`
3. æ›´æ–°æ–‡æ¡£

### ç¬¬ä¸‰æ­¥ï¼šå‘å¸ƒ
1. æ›´æ–°ç‰ˆæœ¬å·
2. å‘å¸ƒæ–°ç‰ˆæœ¬
3. ç›‘æ§ç”¨æˆ·åé¦ˆ

---

## å¯åŠ¨æ—¶é—´å¯¹æ¯”

### å½“å‰ï¼ˆddddocrï¼‰
```
Python å¯åŠ¨: 500ms
PyQt5 å¯¼å…¥: 800ms
ddddocr å¯¼å…¥: 1500-2000ms  â† ç“¶é¢ˆ
å…¶ä»–æ¨¡å—: 300ms
UI åˆå§‹åŒ–: 400ms
æ€»è®¡: ~4000-4500ms
```

### ä¼˜åŒ–åï¼ˆPaddleOCRï¼‰
```
Python å¯åŠ¨: 500ms
PyQt5 å¯¼å…¥: 800ms
PaddleOCR å¯¼å…¥: 800-1200ms  â† æ”¹è¿› 40-50%
å…¶ä»–æ¨¡å—: 300ms
UI åˆå§‹åŒ–: 400ms
æ€»è®¡: ~2800-3200ms
```

### ä¼˜åŒ–æ•ˆæœ
- **å¯åŠ¨æ—¶é—´**: å‡å°‘ 1200-1700ms
- **æ”¹è¿›å¹…åº¦**: å‡å°‘ 30-40%
- **ç”¨æˆ·ä½“éªŒ**: æ˜æ˜¾æå‡

---

## æ€»ç»“

| æ–¹æ¡ˆ | å¯åŠ¨æ—¶é—´ | æ”¹è¿› | éš¾åº¦ | é£é™© | æ¨è |
|------|---------|------|------|------|------|
| å»¶è¿Ÿå¯¼å…¥ ddddocr | 2500-3000ms | 40-50% | ç®€å• | ä½ | â­â­â­â­â­ |
| æ›¿æ¢ä¸º PaddleOCR | 2800-3200ms | 30-40% | ä¸­ç­‰ | ä½ | â­â­â­â­ |
| æ›¿æ¢ä¸º PyCAPTCHA | 2000-2500ms | 50-60% | ä¸­ç­‰ | ä¸­ | â­â­â­ |

**æœ€ç»ˆå»ºè®®**: 
1. **çŸ­æœŸ**: å®æ–½å»¶è¿Ÿå¯¼å…¥ ddddocrï¼ˆå¿«é€Ÿè§æ•ˆï¼‰
2. **ä¸­æœŸ**: æ›¿æ¢ä¸º PaddleOCRï¼ˆæ›´å¥½çš„é•¿æœŸæ–¹æ¡ˆï¼‰
3. **é•¿æœŸ**: è€ƒè™‘ PyCAPTCHAï¼ˆå¦‚æœç¨³å®šæ€§å¾—åˆ°éªŒè¯ï¼‰

---

**æ›´æ–°æ—¥æœŸ**: 2026-01-22  
**ç‰ˆæœ¬**: v2.0.0
